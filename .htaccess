
RewriteEngine On

# -----------------------------------------------------------
# BAGIAN 0: Pengecualian URL API
# KECUALIKAN API AGAR TIDAK DI-REDIRECT
# -----------------------------------------------------------
RewriteCond %{REQUEST_URI} ^/pwd/api_matakuliah\.php [NC]
RewriteRule ^ - [L]

# -----------------------------------------------------------
# BAGIAN 1: Paksa Hapus .php (Redirect Eksternal)
# Ini yang membuat Anda TIDAK PERLU ubah kodingan satu per satu.
# Jika browser melihat ada .php, dia akan reload dan membuangnya.
# -----------------------------------------------------------
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# -----------------------------------------------------------
# BAGIAN 2: Baca File Tanpa Ekstensi (Rewrite Internal)
# Agar server mengerti bahwa "login" itu maksudnya "login.php"
# -----------------------------------------------------------
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*?)/?$ $1.php [L]

# -----------------------------------------------------------
# BAGIAN 3: Mengatur Index Folder
# Agar folder /user/ otomatis buka /user/index.php
# -----------------------------------------------------------
DirectoryIndex index.php index.html

